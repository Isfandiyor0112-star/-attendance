<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">
 <link rel="icon" type="image/png" sizes="32x32" href="web191.png">
 <link rel="apple-touch-icon" href="web191.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
 <meta name="apple-mobile-web-app-status-bar-style" content="default">
 <meta name="theme-color" content="#0d6efd">
 </head>
<body class="bg-light">
  <div class="position-absolute top-0 end-0 p-3" style="z-index:10000;">
    <div class="btn-group">
      <button id="lang-ru" class="btn btn-light btn-sm">
        <img src="https://upload.wikimedia.org/wikipedia/commons/f/f3/Flag_of_Russia.svg" width="16" height="12" alt="RU"> –†—É—Å
      </button>
      <button id="lang-uz" class="btn btn-light btn-sm">
        <img src="https://upload.wikimedia.org/wikipedia/commons/8/84/Flag_of_Uzbekistan.svg" width="16" height="12" alt="UZ"> Uzb
      </button>
    </div>
  </div>
  <div id="videoIntro" style="position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9999;background:#000;display:flex;justify-content:center;align-items:center;">
    <video src="intro.mp4" autoplay muted playsinline style="width:auto;height:auto;max-width:auto;max-height:auto;object-fit:cover;border-radius:0;"></video>
  </div>
  <div id="loginContainer" style="display:none;">
    <div class="container mt-5">
      <div class="row justify-content-center">
        <div class="col-12 col-sm-8 col-md-6 col-lg-4">
          <div class="card shadow">
            <div class="card-body">
              <h3 class="mb-4 text-center" data-i18n="login_title">–í—Ö–æ–¥</h3>
              <form id="loginForm">
                <div class="mb-3">
                  <label for="login" class="form-label" data-i18n="login_label">–õ–æ–≥–∏–Ω</label>
                  <input type="text" class="form-control" id="login" required>
                </div>
                <div class="mb-3">
                  <label for="password" class="form-label" data-i18n="password_label">–ü–∞—Ä–æ–ª—å</label>
                  <input type="password" class="form-control" id="password" required>
                </div>
                <button type="submit" class="btn btn-primary w-100" data-i18n="login_btn">–í–æ–π—Ç–∏</button>
                <div id="loginError" class="text-danger mt-2" style="display:none;" data-i18n="login_error">–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å</div>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
  <script>
    setTimeout(() => {
      document.getElementById('videoIntro').style.display = 'none';
      document.getElementById('loginContainer').style.display = 'block';
    }, 5000); // 5 —Å–µ–∫—É–Ω–¥
  </script>
  <script>
const translations = {
  ru: {
    login_title: "–í—Ö–æ–¥",
    login_label: "–õ–æ–≥–∏–Ω",
    password_label: "–ü–∞—Ä–æ–ª—å",
    login_btn: "–í–æ–π—Ç–∏",
    login_error: "–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å"
  },
  uz: {
    login_title: "Kirish",
    login_label: "Login",
    password_label: "Parol",
    login_btn: "Kirish",
    login_error: "Login yoki parol noto'g'ri"
  }
};

function setLang(lang) {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[lang][key]) el.textContent = translations[lang][key];
  });
  localStorage.setItem('lang', lang);
}

const lang = localStorage.getItem('lang') || 'ru';
setLang(lang);
  </script>
</body>
</html>

<script>
let deferredPrompt;

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–ø—É—â–µ–Ω–æ –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ –∫–∞–∫ PWA
const isStandalone = window.matchMedia('(display-mode: standalone)').matches;

// –õ–æ–≤–∏–º —Å–æ–±—ã—Ç–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;

  // –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –±–∞–Ω–Ω–µ—Ä
  if (!isStandalone) {
    const installBanner = document.createElement('div');
    installBanner.className = "alert alert-info text-center mt-3";
    installBanner.innerHTML = `
      <p>üì≤ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞<br>
      Davomat dasturini yuklab oling</p>
      <button id="installBtn" class="btn btn-success">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
    `;
    document.body.appendChild(installBanner);

    document.getElementById('installBtn').addEventListener('click', () => {
      deferredPrompt.prompt();
      deferredPrompt.userChoice.then(() => {
        deferredPrompt = null;
        installBanner.remove(); // —É–±–∏—Ä–∞–µ–º –±–∞–Ω–Ω–µ—Ä –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞
      });
    });
  }
});
</script>






